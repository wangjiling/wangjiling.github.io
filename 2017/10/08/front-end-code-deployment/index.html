<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>linux(ubuntu) 前端代码部署环境搭建</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="WEB前端学习分享" property="og:site_name">
  
    <meta content="linux(ubuntu) 前端代码部署环境搭建" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="linux(ubuntu) 前端代码部署环境搭建" property="og:description">
  
  
    <meta content="/2017/10/08/front-end-code-deployment/" property="og:url">
  
  
    <meta content="2017-10-08T00:00:00+08:00" property="article:published_time">
    <meta content="/about/" property="article:author">
  
  
    <meta content="/assets/img/web-tool.jpeg" property="og:image">
  
  
    
  
  
    
    <meta content="Programming" property="article:tag">
    
    <meta content="Learn" property="article:tag">
    
  

  
    <meta name="twitter:card" content="linux(ubuntu) 前端代码部署环境搭建">
  
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@">
  
    <meta name="twitter:title" content="linux(ubuntu) 前端代码部署环境搭建">
  
  
    <meta name="twitter:url" content="/2017/10/08/front-end-code-deployment/">
  
  
    <meta name="twitter:description" content="linux(ubuntu) 前端代码部署环境搭建">
  
  
    <meta name="twitter:image:src" content="/assets/img/web-tool.jpeg">
  

	<meta name="description" content="linux(ubuntu) 前端代码部署环境搭建">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"
          ><img
            src="/assets/img/wang.png"
            alt="Wang Jiling"
        /></a>
      </div>
      <div class="author-name">Wang Jiling</div>
      <p>前端开发工程师，现专注于大前端领域相关的开发、架构和新技术的调研</p>
    </div>
  </header>
  <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        <!-- 
          <li><a href="https://twitter.com/wangjiling" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
        
          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
         -->
        
        <li class="github">
          <a href="https://github.com/wangjiling" target="_blank"
            ><i class="fa fa-github"></i
          ></a>
        </li>
        
        <!-- 
          <li class="linkedin"><a href="https://in.linkedin.com/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
         -->
        
        <li class="email">
          <a href="mailto:vincentwangjiling@gmail.com"
            ><i class="fa fa-envelope-o" aria-hidden="true"></i
          ></a>
        </li>
        
      </ul>
    </section>
    <!-- End Section Contact -->
    <div class="copyright">
      <p>2016-2019 &copy; Wang Jiling</p>
      <p>
        <a target="_blank" href="http://www.miitbeian.gov.cn"
          >沪ICP备17029424号</a
        >
      </p>
    </div>
  </footer>
  <!-- End Footer -->
</aside>
<!-- End Sidebar -->
<div class="content-box clearfix"><article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <img class="page-image" src=/assets/img/web-tool.jpeg alt="linux(ubuntu) 前端代码部署环境搭建">
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">linux(ubuntu) 前端代码部署环境搭建</h1>
        <div class="page-date"><span>2017, Oct 08&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <h3 id="安装-nodejs">安装 nodejs</h3>

<p>1、下载编译后的文件
wget -c https://nodejs.org/dist/v8.9.3/node-v8.9.3-linux-x64.tar.xz</p>

<p>2 、解压，移动
tar xvJf node-v8.9.3-linux-x64.tar.xz -C /usr/local/
cd /usr/local/
mv node-v8.9.3-linux-x64/ nodejs</p>

<p>3、建立软连接
ln -s /usr/local/nodejs/bin/node /usr/local/bin
ln -s /usr/local/nodejs/bin/npm /usr/local/bin</p>

<h3 id="安装git">安装git</h3>

<p>sudo apt-get install git</p>

<h3 id="安装nginx">安装nginx</h3>

<p>1、安装
sudo apt-get install nginx</p>

<p>2、证书合并
cat www.mysite.com.crt gd_bundle.crt &gt; mysite_combined.crt</p>

<p>3、nginx配置</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
##
# Gzip Settings
##

gzip on;
gzip_min_length 1k;
gzip_disable "msie6";

gzip_vary on;
# gzip_proxied any;
gzip_comp_level 6;
gzip_buffers 16 8k;
# gzip_http_version 1.1;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript application/octet-stream application/x-httpd-php image/jpeg image/gif image/png font/ttf image/svg+xml;


server {
    listen 80 default_server;
    listen 443 ssl default_server;
    #ssl on;
    ssl_certificate /etc/nginx/conf.d/crt/mysite_combined.crt;
    ssl_certificate_key /etc/nginx/conf.d/crt/server.key;
    keepalive_timeout   70;
    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers         HIGH:!aNULL:!MD5;

    server_name _;

    root /root/mysite/git/mysite-static/build;

    # Add index.php to the list if you are using PHP
    index index.html index.htm index.nginx-debian.html;

    location / {
            # First attempt to serve request as file, then
            # as directory, then fall back to displaying a 404.
            try_files $uri $uri/ =404;
    }

    # wx api proxy configuration
    location /api/wx/ {
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-NginX-Proxy true;
            proxy_pass http://localhost:3000/;
            proxy_ssl_session_reuse off;
            proxy_set_header Host $http_host;
            proxy_cache_bypass $http_upgrade;
            proxy_redirect off;
            # config for websocket proxy
            #proxy_set_header Upgrade $http_upgrade;
            #proxy_set_header Connection "upgrade";
    }

    # Cache configuration
    location ~ .*\.(?:jpg|jpeg|gif|png|ico|cur|gz|svg|svgz|mp4|ogg|ogv|webm|eot|ttf|otf|woff)$
    {
            expires      7d;
    }

    location ~ .*\.(?:js|css)$
    {
            expires      7d;
    }

    location ~ .*\.(?:htm|html)$
    {
            expires      -1;
    }

    error_page 404 /404/;
    # error_page 500 502 503 504 /50x/;
}

server {
    listen 80;
    listen 443 ssl;
    server_name mysite.com;
    return 301 https://www.mysite.com$request_uri;
}

</code></pre>
</div>

<p>4、常用命令</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
sudo service nginx start
sudo service nginx stop
sudo service nginx restart
sudo service nginx reload

</code></pre>
</div>

      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=linux(ubuntu) 前端代码部署环境搭建&url=/2017/10/08/front-end-code-deployment/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=/2017/10/08/front-end-code-deployment/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=/2017/10/08/front-end-code-deployment/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
            <a href="/tags#Programming" class="tag">&#35; Programming</a>
          
            <a href="/tags#Learn" class="tag">&#35; Learn</a>
          
        </div>
      </div>
      <section class="comment-area">
  <!--PC和WAP自适应版-->
  <div id="SOHUCS" sid="/2017/10/08/front-end-code-deployment" ></div>
  <script type="text/javascript">
      (function(){
          var appid = 'cytqkAhNv';
          var conf = 'prod_6e8ce9f2b9b375457313cf45a53ca895';
          var width = window.innerWidth || document.documentElement.clientWidth;
          if (width < 960) {
              window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="http://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("http://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
</section>

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->
</div>

  </div>
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-111688204-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-111688204-1');
</script>

<!-- baidu -->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?4203e28ed2486071d9be8be5ac2e99cd";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

</body>
</html>
